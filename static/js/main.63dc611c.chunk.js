(this.webpackJsonpcodica=this.webpackJsonpcodica||[]).push([[0],{10:function(e,t,a){e.exports={label:"Search_label__1nRsR",input:"Search_input__3KYZK",errorStyle:"Search_errorStyle__1e8H4",send:"Search_send__J10O8",error:"Search_error__3TZeS",searchList:"Search_searchList__Abnnr"}},17:function(e,t,a){e.exports={app:"App_app__3jqhq",cardsWrapper:"App_cardsWrapper__1gZdF",title:"App_title__1IkJy",footer:"App_footer__37TDI"}},18:function(e,t,a){e.exports={wrapper:"AddMode_wrapper__101Kg",mask:"AddMode_mask__3PgEO",form:"AddMode_form__3SaAH",close:"AddMode_close__31jhY"}},19:function(e,t,a){e.exports={message:"Message_message__2N8MC",progressbar:"Message_progressbar__yKWpq",animate:"Message_animate__3qnUc",error:"Message_error__1t7X8"}},24:function(e,t,a){e.exports={wrapper:"CardButton_wrapper__3JBkr",btn:"CardButton_btn__3gFKH",title:"CardButton_title__3QGYu"}},28:function(e,t,a){e.exports={item:"SearchResultItem_item__2l1tz",country:"SearchResultItem_country__3V1Ss"}},37:function(e,t,a){e.exports={title:"Title_title__iWpEU"}},5:function(e,t,a){e.exports={card:"Card_card__1trhp",bg:"Card_bg__gTgqw",title:"Card_title___D0DM",icon:"Card_icon__VIndm",info:"Card_info__XI5iQ",date:"Card_date__2aIS4",temp:"Card_temp__1rb5I",description:"Card_description__2pdNs",buttons:"Card_buttons__30KMi",refresh:"Card_refresh__2YCdE",remove:"Card_remove__366hq"}},53:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a.n(n),s=a(20),i=a.n(s),o=(a(53),a(4)),l=a(17),u=a.n(l),d=a(5),j=a.n(d),p=a(37),b=a.n(p),m=function(e){var t=e.title,a=e.style,n=e.className,r=e.children,s=n||"";return Object(c.jsx)("div",{className:s,children:Object(c.jsxs)("span",{className:b.a.title,style:a,children:[r,t]})})},h=a.p+"static/media/cloud.d61cc57a.jpg",f=a.p+"static/media/rain.615edd1e.jpg",O=a.p+"static/media/snow.939aeb64.jpg",_=a.p+"static/media/haze.b3f2c6c7.jpg",g=a.p+"static/media/clear.396ebddd.jpg",x=a(22),C=a.n(x),v=a(38),S=a.n(v),N=a(23),y=a(46),w=function(e){var t=e.onClick,a=e.className,n=Object(y.a)(e,["onClick","className"]);return Object(c.jsx)("button",Object(N.a)({className:a,onClick:t},n))},E=new Date,I=E.getDate()<10?"0".concat(E.getDate()):"".concat(E.getDate()),R=E.getMonth()<10?"0".concat(E.getMonth()):"".concat(E.getMonth()),k="".concat(E.getFullYear()),T=function(e){var t=e.name,a=e.id,n=e.temp,r=e.weather,s=e.sys,i=e.removeCard,o=e.refreshCard,l=g;switch(r.main){case"Snow":l=O;break;case"Clear":l=g;break;case"Rain":l=f;break;case"Clouds":l=h;break;case"Haze":case"Mist":l=_}return Object(c.jsxs)("div",{className:j.a.card,children:[Object(c.jsx)("img",{className:j.a.bg,src:l,alt:"weather"}),Object(c.jsx)(m,{title:"".concat(t," (").concat(s.country,")"),className:j.a.title,children:Object(c.jsx)("img",{style:{marginRight:"10px"},src:"https://openweathermap.org/images/flags/".concat(s.country.toLowerCase(),".png"),alt:""})}),Object(c.jsxs)("div",{className:j.a.info,children:[Object(c.jsx)("img",{className:j.a.icon,src:"https://openweathermap.org/img/wn/".concat(r.icon,"@2x.png"),alt:""}),Object(c.jsx)("span",{className:j.a.date,children:"".concat(I,".").concat(R,".").concat(k)}),Object(c.jsx)("span",{className:j.a.temp,children:"".concat(Math.round(n),"\xb0C")}),Object(c.jsxs)("span",{className:j.a.description,children:[r.description," in ",t]})]}),Object(c.jsxs)("div",{className:j.a.buttons,children:[Object(c.jsx)("button",{onClick:function(){o(a)},className:j.a.refresh,children:Object(c.jsx)(S.a,{style:{color:"#fff"}})}),Object(c.jsx)(w,{onClick:function(){i(a)},className:j.a.remove,children:Object(c.jsx)(C.a,{style:{color:"#fff"}})})]})]})},A=a(7),D=a(24),M=a.n(D),F=a(40),Y=a.n(F),H=function(e){var t=e.onClick;return Object(c.jsxs)("div",{className:M.a.wrapper,children:[Object(c.jsx)("span",{className:M.a.title,children:"Add new place to your cards list"}),Object(c.jsx)(w,{className:M.a.btn,onClick:function(){t(!0)},children:Object(c.jsx)(Y.a,{style:{color:"#fff",fontSize:"140px"}})})]})},J=a(18),q=a.n(J),L=a(10),P=a.n(L),U=a(28),B=a.n(U),K=function(e){var t=e.name,a=e.country,r=e.onClick,s=Object(n.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1];Object(n.useEffect)((function(){u(t)}),[t]);return Object(c.jsxs)("li",{className:B.a.item,onClick:function(){r(l)},children:[Object(c.jsx)("img",{src:"https://openweathermap.org/images/flags/".concat(a.toLowerCase(),".png"),alt:"flag"}),Object(c.jsx)("span",{className:B.a.country,children:a}),Object(c.jsx)("span",{children:t})]})},W=a(9),G=a(41),z=a.n(G).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),V="ca71cc9121f92b686ca23cb9135132aa",Z=function(e){return z.get("weather?q=".concat(e,"&units=metric&appid=").concat(V))},Q=function(e){return z.get("group?id=".concat(e.join(","),"&units=metric&appid=").concat(V))},X=function(e){return z.get("group?id=".concat(e,"&units=metric&appid=").concat(V))},$=function(e){return z.get("find?q=".concat(e,"&units=metric&appid=").concat(V))},ee=[],te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH-ACTION":return Object(W.a)(t.data);case"RESET-SEARCH-REDUCER":return[];default:return e}},ae={error:!1,message:"",show:!1},ce=function(e,t,a){return{type:"SET-MESSAGE",data:{error:e,message:t,show:a}}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-MESSAGE":return Object(N.a)({},t.data);default:return e}},re=[],se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-CITY":var a=e.find((function(e){return e.id===t.data.id}));return a?e:[].concat(Object(W.a)(e),[t.data]);case"ADD-CITIES-GROUP":return[].concat(Object(W.a)(e),Object(W.a)(t.data));case"REMOVE-CITY":return Object(W.a)(t.data);case"REFRESH-CITY":var c=Object(W.a)(e).map((function(e){return e.id===t.data[0].id?t.data[0]:e}));return Object(W.a)(c);default:return e}},ie=function(e){var t=e.onClick,a=Object(n.useState)(""),r=Object(o.a)(a,2),s=r[0],i=r[1],l=Object(n.useState)(!1),u=Object(o.a)(l,2),d=u[0],j=u[1],p=Object(n.useState)(""),b=Object(o.a)(p,2),m=b[0],h=b[1],f=Object(n.useState)(0),O=Object(o.a)(f,2),_=O[0],g=O[1],x=Object(n.useState)(!1),C=Object(o.a)(x,2),v=C[0],S=C[1],N=Object(A.b)(),y=Object(A.c)((function(e){return e.search}));Object(n.useEffect)((function(){var e=window.setTimeout((function(){s.length>2&&N(function(e){return function(t){$(e).then((function(e){t({type:"SEARCH-ACTION",data:e.data.list})}))}}(s))}),1e3);return g(e),clearTimeout(_)}),[s]),Object(n.useEffect)((function(){y.length?S(!0):S(!1)}),[y]);var E=function(e){i(e),I()},I=function(){var e;i(s.trim()),s?s.length<2?(j(!0),h("Name must contain more than one character")):(N((e=s.trim(),function(t,a){Z(e).then((function(e){if(200===e.status){var c=a().weather.map((function(e){return e.id}));localStorage.setItem("citiesID",JSON.stringify([].concat(Object(W.a)(c),[e.data.id]))),t(function(e){return{type:"ADD-CITY",data:e}}(e.data)),t(ce(!1,"success",!0))}})).catch((function(e){404===e.response.status&&t(ce(!0,e.response.data.message,!0))}))})),N({type:"RESET-SEARCH-REDUCER"}),t(!1)):(j(!0),h("Name must not be empty"))},R=d?"".concat(P.a.input," ").concat(P.a.errorStyle):P.a.input,k=y.length?y.map((function(e){return Object(c.jsx)(K,{name:e.name,country:e.sys.country,onClick:E},e.id)})):"";return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("label",{className:P.a.label,children:[Object(c.jsx)("span",{className:P.a.error,children:m}),Object(c.jsx)("input",{className:R,type:"text",value:s,placeholder:"Write here",autoFocus:!0,onChange:function(e){j(!1),h(""),i(e.currentTarget.value.replace(/\d/,""))}}),v&&Object(c.jsx)("ul",{className:P.a.searchList,children:k})]}),Object(c.jsx)(w,{className:P.a.send,onClick:I,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},oe=a(42),le=a.n(oe),ue=function(e){var t=e.onSearchFinish,a=function(){t(!1)};return Object(c.jsxs)("div",{className:q.a.wrapper,children:[Object(c.jsx)("div",{className:q.a.mask,onClick:a}),Object(c.jsxs)("div",{className:q.a.form,children:[Object(c.jsx)(m,{title:"Enter city",children:Object(c.jsx)(le.a,{style:{marginRight:"10px"}})}),Object(c.jsx)(ie,{onClick:t}),Object(c.jsx)(w,{className:q.a.close,onClick:a,children:Object(c.jsx)(C.a,{style:{color:"#000"}})})]})]})},de=a(43),je=a.n(de),pe=a(44),be=a.n(pe),me=a(19),he=a.n(me),fe=function(e){var t=e.message,a=e.error,r=Object(A.b)(),s=Object(n.useState)(0),i=Object(o.a)(s,2),l=i[0],u=i[1];Object(n.useEffect)((function(){var e=window.setTimeout((function(){r(ce(!1,"",!1))}),3e3);return u(e),clearTimeout(l)}),[]);var d=a?"".concat(he.a.message," ").concat(he.a.error):he.a.message;return Object(c.jsxs)("div",{className:d,children:[Object(c.jsx)("div",{className:he.a.progressbar,style:{animationDuration:"".concat(3e3,"ms")}}),t]})};var Oe=function(){var e=Object(A.c)((function(e){return e.weather})),t=Object(A.c)((function(e){return e.common})),a=Object(A.b)(),r=Object(n.useState)(!1),s=Object(o.a)(r,2),i=s[0],l=s[1],d=function(e){l(e)},j=function(e){var t;a((t=e,function(e,a){var c=localStorage.getItem("citiesID"),n=(c?JSON.parse(c):[]).filter((function(e){return e!==t}));localStorage.setItem("citiesID",JSON.stringify(n)),e({type:"REMOVE-CITY",data:a().weather.filter((function(e){return e.id!==t}))})}))},p=function(e){var t;a((t=e,function(e){X(t).then((function(t){e({type:"REFRESH-CITY",data:t.data.list})}))}))},b=localStorage.getItem("citiesID"),h=b?JSON.parse(b):[];Object(n.useEffect)((function(){var e;h.length&&a((e=h,function(t){Q(e).then((function(e){t({type:"ADD-CITIES-GROUP",data:e.data.list})}))}))}),[]);var f=e.map((function(e){return console.log(e),Object(c.jsx)(T,{id:e.id,name:e.name,temp:e.main.temp,sys:e.sys,removeCard:j,refreshCard:p,weather:e.weather[0]},e.id)}));return Object(c.jsxs)("div",{className:u.a.app,children:[Object(c.jsx)(m,{title:"Clouds cards APP",className:u.a.title,children:Object(c.jsx)(je.a,{style:{marginRight:"10px"}})}),Object(c.jsxs)("div",{className:u.a.cardsWrapper,children:[Object(c.jsx)(H,{onClick:d}),f]}),i&&Object(c.jsx)(ue,{onSearchFinish:d}),Object(c.jsx)("footer",{className:u.a.footer,children:Object(c.jsx)(m,{title:"You are awesome so have a nice day",children:Object(c.jsx)(be.a,{style:{marginRight:"10px"}})})}),t.show&&Object(c.jsx)(fe,{message:t.message,error:t.error})]})},_e=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,89)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))},ge=a(13),xe=a(45),Ce=Object(ge.c)({weather:se,search:te,common:ne}),ve=Object(ge.d)(Ce,Object(ge.a)(xe.a));window.store=ve,i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(A.a,{store:ve,children:Object(c.jsx)(Oe,{})})}),document.getElementById("root")),_e()}},[[78,1,2]]]);
//# sourceMappingURL=main.63dc611c.chunk.js.map