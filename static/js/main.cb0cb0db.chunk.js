(this.webpackJsonpcodica=this.webpackJsonpcodica||[]).push([[0],{10:function(e,t,a){e.exports={label:"Search_label__1nRsR",input:"Search_input__3KYZK",errorStyle:"Search_errorStyle__1e8H4",send:"Search_send__J10O8",error:"Search_error__3TZeS",searchList:"Search_searchList__Abnnr"}},17:function(e,t,a){e.exports={app:"App_app__3jqhq",cardsWrapper:"App_cardsWrapper__1gZdF",title:"App_title__1IkJy",footer:"App_footer__37TDI"}},18:function(e,t,a){e.exports={wrapper:"AddMode_wrapper__101Kg",mask:"AddMode_mask__3PgEO",form:"AddMode_form__3SaAH",close:"AddMode_close__31jhY"}},19:function(e,t,a){e.exports={message:"Message_message__2N8MC",progressbar:"Message_progressbar__yKWpq",animate:"Message_animate__3qnUc",error:"Message_error__1t7X8"}},24:function(e,t,a){e.exports={wrapper:"CardButton_wrapper__3JBkr",btn:"CardButton_btn__3gFKH",title:"CardButton_title__3QGYu"}},28:function(e,t,a){e.exports={item:"SearchResultItem_item__2l1tz",country:"SearchResultItem_country__3V1Ss"}},37:function(e,t,a){e.exports={title:"Title_title__iWpEU"}},5:function(e,t,a){e.exports={card:"Card_card__1trhp",bg:"Card_bg__gTgqw",title:"Card_title___D0DM",icon:"Card_icon__VIndm",info:"Card_info__XI5iQ",date:"Card_date__2aIS4",temp:"Card_temp__1rb5I",description:"Card_description__2pdNs",buttons:"Card_buttons__30KMi",refresh:"Card_refresh__2YCdE",remove:"Card_remove__366hq"}},53:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a.n(n),s=a(20),i=a.n(s),o=(a(53),a(4)),l=a(17),d=a.n(l),u=a(5),j=a.n(u),p=a(37),b=a.n(p),m=function(e){var t=e.title,a=e.style,n=e.className,r=e.children,s=n||"";return Object(c.jsx)("div",{className:s,children:Object(c.jsxs)("span",{className:b.a.title,style:a,children:[r,t]})})},h=a.p+"static/media/cloud.d61cc57a.jpg",f=a.p+"static/media/rain.615edd1e.jpg",O=a.p+"static/media/snow.939aeb64.jpg",_=a.p+"static/media/haze.b3f2c6c7.jpg",g=a.p+"static/media/clear.396ebddd.jpg",x=a(22),C=a.n(x),v=a(38),S=a.n(v),N=a(23),y=a(46),w=function(e){var t=e.onClick,a=e.className,n=Object(y.a)(e,["onClick","className"]);return Object(c.jsx)("button",Object(N.a)({className:a,onClick:t},n))},E=new Date,I=E.getDate()<10?"0".concat(E.getDate()):"".concat(E.getDate()),k=E.getMonth()<10?"0".concat(E.getMonth()):"".concat(E.getMonth()),A="".concat(E.getFullYear()),R=function(e){var t=e.name,a=e.id,n=e.temp,r=e.weather,s=e.sys,i=e.removeCard,o=g;switch(r.main){case"Snow":o=O;break;case"Clear":o=g;break;case"Rain":o=f;break;case"Clouds":o=h;break;case"Haze":case"Mist":o=_}return Object(c.jsxs)("div",{className:j.a.card,children:[Object(c.jsx)("img",{className:j.a.bg,src:o,alt:"weather"}),Object(c.jsx)(m,{title:"".concat(t," (").concat(s.country,")"),className:j.a.title,children:Object(c.jsx)("img",{style:{marginRight:"10px"},src:"https://openweathermap.org/images/flags/".concat(s.country.toLowerCase(),".png"),alt:""})}),Object(c.jsxs)("div",{className:j.a.info,children:[Object(c.jsx)("img",{className:j.a.icon,src:"https://openweathermap.org/img/wn/".concat(r.icon,"@2x.png"),alt:""}),Object(c.jsx)("span",{className:j.a.date,children:"".concat(I,".").concat(k,".").concat(A)}),Object(c.jsx)("span",{className:j.a.temp,children:"".concat(Math.round(n),"\xb0C")}),Object(c.jsxs)("span",{className:j.a.description,children:[r.description," in ",t]})]}),Object(c.jsxs)("div",{className:j.a.buttons,children:[Object(c.jsx)("button",{className:j.a.refresh,children:Object(c.jsx)(S.a,{style:{color:"#fff"}})}),Object(c.jsx)(w,{onClick:function(){i(a)},className:j.a.remove,children:Object(c.jsx)(C.a,{style:{color:"#fff"}})})]})]})},D=a(7),T=a(24),M=a.n(T),F=a(40),Y=a.n(F),J=function(e){var t=e.onClick;return Object(c.jsxs)("div",{className:M.a.wrapper,children:[Object(c.jsx)("span",{className:M.a.title,children:"Add new place to your cards list"}),Object(c.jsx)(w,{className:M.a.btn,onClick:function(){t(!0)},children:Object(c.jsx)(Y.a,{style:{color:"#fff",fontSize:"140px"}})})]})},q=a(18),H=a.n(q),L=a(10),P=a.n(L),U=a(28),B=a.n(U),K=function(e){var t=e.name,a=e.country,r=e.onClick,s=Object(n.useState)(""),i=Object(o.a)(s,2),l=i[0],d=i[1];Object(n.useEffect)((function(){d(t)}),[t]);return Object(c.jsxs)("li",{className:B.a.item,onClick:function(){r(l)},children:[Object(c.jsx)("img",{src:"https://openweathermap.org/images/flags/".concat(a.toLowerCase(),".png"),alt:"flag"}),Object(c.jsx)("span",{className:B.a.country,children:a}),Object(c.jsx)("span",{children:t})]})},W=a(9),G=a(41),z=a.n(G).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),V="ca71cc9121f92b686ca23cb9135132aa",Z=function(e){return z.get("weather?q=".concat(e,"&units=metric&appid=").concat(V))},Q=function(e){return z.get("group?id=".concat(e.join(","),"&units=metric&appid=").concat(V))},X=function(e){return z.get("find?q=".concat(e,"&units=metric&appid=").concat(V))},$=[],ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH-ACTION":return Object(W.a)(t.data);case"RESET-SEARCH-REDUCER":return[];default:return e}},te={error:!1,message:"",show:!1},ae=function(e,t,a){return{type:"SET-MESSAGE",data:{error:e,message:t,show:a}}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-MESSAGE":return Object(N.a)({},t.data);default:return e}},ne=[],re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-CITY":var a=e.find((function(e){return e.id===t.data.id}));return a?e:[].concat(Object(W.a)(e),[t.data]);case"ADD-CITIES-GROUP":return[].concat(Object(W.a)(e),Object(W.a)(t.data));case"REMOVE-CITY":return Object(W.a)(t.data);default:return e}},se=function(e){var t=e.onClick,a=Object(n.useState)(""),r=Object(o.a)(a,2),s=r[0],i=r[1],l=Object(n.useState)(!1),d=Object(o.a)(l,2),u=d[0],j=d[1],p=Object(n.useState)(""),b=Object(o.a)(p,2),m=b[0],h=b[1],f=Object(n.useState)(0),O=Object(o.a)(f,2),_=O[0],g=O[1],x=Object(n.useState)(!1),C=Object(o.a)(x,2),v=C[0],S=C[1],N=Object(D.b)(),y=Object(D.c)((function(e){return e.search}));Object(n.useEffect)((function(){var e=window.setTimeout((function(){s.length>2&&N(function(e){return function(t){X(e).then((function(e){t({type:"SEARCH-ACTION",data:e.data.list})}))}}(s))}),1e3);return g(e),clearTimeout(_)}),[s]),Object(n.useEffect)((function(){y.length?S(!0):S(!1)}),[y]);var E=function(e){i(e),I()},I=function(){var e;i(s.trim()),s?s.length<2?(j(!0),h("Name must contain more than one character")):(N((e=s.trim(),function(t,a){Z(e).then((function(e){if(200===e.status){var c=a().weather.map((function(e){return e.id}));localStorage.setItem("citiesID",JSON.stringify([].concat(Object(W.a)(c),[e.data.id]))),t(function(e){return{type:"ADD-CITY",data:e}}(e.data)),t(ae(!1,"success",!0))}})).catch((function(e){404===e.response.status&&t(ae(!0,e.response.data.message,!0))}))})),N({type:"RESET-SEARCH-REDUCER"}),t(!1)):(j(!0),h("Name must not be empty"))},k=u?"".concat(P.a.input," ").concat(P.a.errorStyle):P.a.input,A=y.length?y.map((function(e){return Object(c.jsx)(K,{name:e.name,country:e.sys.country,onClick:E},e.id)})):"";return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("label",{className:P.a.label,children:[Object(c.jsx)("span",{className:P.a.error,children:m}),Object(c.jsx)("input",{className:k,type:"text",value:s,placeholder:"Write here",autoFocus:!0,onChange:function(e){j(!1),h(""),i(e.currentTarget.value.replace(/\d/,""))}}),v&&Object(c.jsx)("ul",{className:P.a.searchList,children:A})]}),Object(c.jsx)(w,{className:P.a.send,onClick:I,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},ie=a(42),oe=a.n(ie),le=function(e){var t=e.onSearchFinish,a=function(){t(!1)};return Object(c.jsxs)("div",{className:H.a.wrapper,children:[Object(c.jsx)("div",{className:H.a.mask,onClick:a}),Object(c.jsxs)("div",{className:H.a.form,children:[Object(c.jsx)(m,{title:"Enter city",children:Object(c.jsx)(oe.a,{style:{marginRight:"10px"}})}),Object(c.jsx)(se,{onClick:t}),Object(c.jsx)(w,{className:H.a.close,onClick:a,children:Object(c.jsx)(C.a,{style:{color:"#000"}})})]})]})},de=a(43),ue=a.n(de),je=a(44),pe=a.n(je),be=a(19),me=a.n(be),he=function(e){var t=e.message,a=e.error,r=Object(D.b)(),s=Object(n.useState)(0),i=Object(o.a)(s,2),l=i[0],d=i[1];Object(n.useEffect)((function(){var e=window.setTimeout((function(){r(ae(!1,"",!1))}),3e3);return d(e),clearTimeout(l)}),[]);var u=a?"".concat(me.a.message," ").concat(me.a.error):me.a.message;return Object(c.jsxs)("div",{className:u,children:[Object(c.jsx)("div",{className:me.a.progressbar,style:{animationDuration:"".concat(3e3,"ms")}}),t]})};var fe=function(){var e=Object(D.c)((function(e){return e.weather})),t=Object(D.c)((function(e){return e.common})),a=Object(D.b)(),r=Object(n.useState)(!1),s=Object(o.a)(r,2),i=s[0],l=s[1],u=function(e){l(e)},j=function(e){var t;a((t=e,function(e,a){var c=localStorage.getItem("citiesID"),n=(c?JSON.parse(c):[]).filter((function(e){return e!==t}));localStorage.setItem("citiesID",JSON.stringify(n)),e({type:"REMOVE-CITY",data:a().weather.filter((function(e){return e.id!==t}))})}))},p=localStorage.getItem("citiesID"),b=p?JSON.parse(p):[];Object(n.useEffect)((function(){var e;b.length&&a((e=b,function(t){Q(e).then((function(e){t({type:"ADD-CITIES-GROUP",data:e.data.list})}))}))}),[]);var h=e.map((function(e){return Object(c.jsx)(R,{id:e.id,name:e.name,temp:e.main.temp,sys:e.sys,removeCard:j,weather:e.weather[0]},e.id)}));return Object(c.jsxs)("div",{className:d.a.app,children:[Object(c.jsx)(m,{title:"Clouds cards APP",className:d.a.title,children:Object(c.jsx)(ue.a,{style:{marginRight:"10px"}})}),Object(c.jsxs)("div",{className:d.a.cardsWrapper,children:[Object(c.jsx)(J,{onClick:u}),h]}),i&&Object(c.jsx)(le,{onSearchFinish:u}),Object(c.jsx)("footer",{className:d.a.footer,children:Object(c.jsx)(m,{title:"You are awesome so have a nice day",children:Object(c.jsx)(pe.a,{style:{marginRight:"10px"}})})}),t.show&&Object(c.jsx)(he,{message:t.message,error:t.error})]})},Oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,89)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))},_e=a(13),ge=a(45),xe=Object(_e.c)({weather:re,search:ee,common:ce}),Ce=Object(_e.d)(xe,Object(_e.a)(ge.a));window.store=Ce,i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(D.a,{store:Ce,children:Object(c.jsx)(fe,{})})}),document.getElementById("root")),Oe()}},[[78,1,2]]]);
//# sourceMappingURL=main.cb0cb0db.chunk.js.map